<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Subway Surf Control Hub</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Syne:wght@600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div class="noise-layer"></div>
  <main class="app-shell">
    <header class="topbar">
      <div>
        <p class="eyebrow">Gesture + Vision Platform</p>
        <h1>Subway Surf Control Hub</h1>
      </div>
      <div class="api-key-box">
        <label for="apiKeyInput">API Key</label>
        <input id="apiKeyInput" type="password" placeholder="x-api-key (optional)">
        <button id="saveApiKeyBtn" type="button">Save key</button>
      </div>
    </header>

    <section class="metrics-grid">
      <article class="metric-card">
        <h2>Current Action</h2>
        <p id="actionBadge" class="badge neutral">IDLE</p>
      </article>
      <article class="metric-card">
        <h2>FPS</h2>
        <p id="fpsValue">0</p>
      </article>
      <article class="metric-card">
        <h2>Hand Tracking</h2>
        <p id="trackingState" class="subtle">Offline</p>
      </article>
      <article class="metric-card">
        <h2>Active Profile</h2>
        <p id="activeProfile">default</p>
      </article>
    </section>

    <section class="workspace">
      <article class="panel panel-wide">
        <div class="panel-head">
          <h3>Live Telemetry</h3>
          <p id="lastUpdateText">Waiting for data...</p>
        </div>
        <div class="sparkline-wrap">
          <canvas id="fpsSparkline" width="860" height="180" aria-label="FPS history chart"></canvas>
        </div>
      </article>

      <article class="panel">
        <div class="panel-head">
          <h3>Profiles</h3>
          <button id="refreshProfilesBtn" type="button">Refresh</button>
        </div>
        <div id="profilesList" class="profile-list"></div>
      </article>

      <article class="panel">
        <div class="panel-head">
          <h3>Create / Update Profile</h3>
        </div>
        <form id="profileForm">
          <label>
            Name
            <input id="profileName" required pattern="[A-Za-z0-9_-]{1,40}" placeholder="pro_lowlight">
          </label>
          <label>
            Description
            <input id="profileDescription" required maxlength="140" placeholder="Profile tuned for low light">
          </label>

          <div class="inline-group">
            <label>
              Left Bound
              <input id="leftBound" type="number" min="0.05" max="0.90" step="0.01" value="0.35">
            </label>
            <label>
              Right Bound
              <input id="rightBound" type="number" min="0.10" max="0.95" step="0.01" value="0.65">
            </label>
          </div>

          <div class="inline-group">
            <label>
              Detection
              <input id="detectionConfidence" type="number" min="0.1" max="1.0" step="0.01" value="0.70">
            </label>
            <label>
              Presence
              <input id="presenceConfidence" type="number" min="0.1" max="1.0" step="0.01" value="0.70">
            </label>
          </div>

          <div class="inline-group">
            <label>
              Tracking
              <input id="trackingConfidence" type="number" min="0.1" max="1.0" step="0.01" value="0.60">
            </label>
            <label>
              Cooldown (ms)
              <input id="cooldownMs" type="number" min="80" max="1200" step="10" value="220">
            </label>
          </div>

          <button class="cta" type="submit">Save profile</button>
        </form>
        <p id="formMessage" class="status-msg"></p>
      </article>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>
